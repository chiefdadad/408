# 分块查找的算法思想（索引顺序查找）

​		分块查找的特点：块内无序，块间有序。



### 步骤：

- 创建一个索引表，里面保存每个分块的**最大关键字**和**分块的存储区间**；
- 在索引表中确定待查元素的所属分块；（可顺序可折半）
- 在所属分块内顺序查找。



**注意：**使用**折半查找**查索引时，若索引表存储的块内最大元素不是要查找的关键字的话，折半查找的索引表最终会停留在**low > high**，因此，我们需要在**low**所指分块中进行查找。



### ASL分析：

-  假设长度为n的查找表被均匀分为b块，每块含有s个元素；

- 设索引查找和块内查找的平均查找长度分别为L~l~，L~s~；

- 平均查找长度： **ASL = L~l~ + L~s~**；

- 用顺序查找查找索引表（重点）：

  L~l~ = (1 + 2 + ... + b) / b = (b + 1) / 2;

  L~s~ = (1 + 2 + ... + s) / s = (s + 1) / 2

  ASL = (b + 1) / 2 + (s + 1) / 2 = (s^2^ + 2s + n) / 2s

  当 **s = 根号n**时， **ASL最小 = 根号n + 1**；

- 使用折半查找查索引表：

  L~l~ = log2(b + 1)向上取整

  L~s~ = (1 + 2 + ... + s) / s = (s + 1) / 2

  ASL = log2(b + 1)向上取整 + (s + 1) / 2



考点：

1. 给一个特例，要求出使用顺序查找时的ASL；
2. 将n个记录均分为b块，每块s个记录，求它的ASL。